{"version":3,"file":"ng2-ui-auth.umd.js","sources":["~/ng2-ui-auth/src/ng2-ui-auth.module.ts","~/ng2-ui-auth/src/auth.service.ts","~/ng2-ui-auth/src/local.service.ts","~/ng2-ui-auth/src/oauth2.service.ts","~/ng2-ui-auth/src/oauth.service.ts","~/ng2-ui-auth/src/oauth1.service.ts","~/ng2-ui-auth/src/popup.service.ts","~/ng2-ui-auth/src/utils.ts","~/ng2-ui-auth/src/jwt-http.service.ts","~/ng2-ui-auth/src/shared.service.ts","~/ng2-ui-auth/src/storage.service.ts","~/ng2-ui-auth/src/config.service.ts"],"sourcesContent":["/**\n * Created by Ron on 25/12/2015.\n */\n\nimport {CustomConfig, ConfigService} from './config.service';\nimport {SharedService} from './shared.service';\nimport {JwtHttp} from './jwt-http.service';\nimport {OauthService} from './oauth.service';\nimport {PopupService} from './popup.service';\nimport {Oauth1Service} from './oauth1.service';\nimport {Oauth2Service} from './oauth2.service';\nimport {LocalService} from './local.service';\nimport {AuthService} from './auth.service';\nimport {StorageService, BrowserStorageService} from './storage.service';\nimport {ModuleWithProviders, NgModule, Injector, Type} from '@angular/core';\nimport {HttpModule, Http} from '@angular/http';\nexport class Ng2UiAuthModule {\n/**\n * @param {?} config\n * @param {?} httpProvider\n * @return {?}\n */\nstatic forRootWithCustomHttp(config: Type<CustomConfig>, httpProvider: any): ModuleWithProviders {\n        return {\n            ngModule: Ng2UiAuthModule,\n            providers: [\n                {provide: CustomConfig, useClass: config },\n                {provide: ConfigService, useClass: ConfigService, deps: [CustomConfig] },\n                {provide: StorageService, useClass: BrowserStorageService, deps: [ConfigService]},\n                {provide: SharedService,  useClass: SharedService, deps: [StorageService, ConfigService]},\n                httpProvider,\n                {provide: OauthService,  useClass: OauthService, deps: [JwtHttp, Injector, SharedService, ConfigService]} ,\n                {provide: PopupService,  useClass: PopupService, deps: [ConfigService]},\n                {provide: Oauth1Service,  useClass: Oauth1Service, deps: [JwtHttp, PopupService, ConfigService]} ,\n                {provide: Oauth2Service,  useClass: Oauth2Service, deps: [JwtHttp, PopupService, StorageService, ConfigService]} ,\n                {provide: LocalService,  useClass: LocalService, deps: [JwtHttp, SharedService, ConfigService]} ,\n                {provide: AuthService,  useClass: AuthService, deps: [SharedService, LocalService, OauthService]} ,]\n        }\n    }\n/**\n * @param {?} config\n * @return {?}\n */\nstatic forRoot(config: Type<CustomConfig>): ModuleWithProviders {\n        return {\n            ngModule: Ng2UiAuthModule,\n            providers: [\n                {provide: CustomConfig, useClass: config },\n                {provide: ConfigService, useClass: ConfigService, deps: [CustomConfig] },\n                {provide: StorageService, useClass: BrowserStorageService, deps: [ConfigService]},\n                {provide: SharedService,  useClass: SharedService, deps: [StorageService, ConfigService]},\n                {provide: JwtHttp, useClass: JwtHttp, deps: [Http, SharedService, ConfigService]},\n                {provide: OauthService,  useClass: OauthService, deps: [JwtHttp, Injector, SharedService, ConfigService]} ,\n                {provide: PopupService,  useClass: PopupService, deps: [ConfigService]},\n                {provide: Oauth1Service,  useClass: Oauth1Service, deps: [JwtHttp, PopupService, ConfigService]} ,\n                {provide: Oauth2Service,  useClass: Oauth2Service, deps: [JwtHttp, PopupService, StorageService, ConfigService]} ,\n                {provide: LocalService,  useClass: LocalService, deps: [JwtHttp, SharedService, ConfigService]} ,\n                {provide: AuthService,  useClass: AuthService, deps: [SharedService, LocalService, OauthService]} ,]\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [HttpModule]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction Ng2UiAuthModule_tsickle_Closure_declarations() {\n/** @type {?} */\nNg2UiAuthModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNg2UiAuthModule.ctorParameters;\n}\n\n\nexport {\n    LocalService,\n    Oauth2Service,\n    Oauth1Service,\n    PopupService,\n    OauthService,\n    JwtHttp,\n    SharedService,\n    StorageService, BrowserStorageService,\n    AuthService,\n    ConfigService, CustomConfig\n};\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {RequestOptionsArgs, Response} from '@angular/http';\nimport {SharedService} from './shared.service';\nimport {LocalService} from './local.service';\nimport {OauthService} from './oauth.service';\nimport {Observable} from 'rxjs/Observable';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class AuthService {\n/**\n * @param {?} shared\n * @param {?} local\n * @param {?} oauth\n */\nconstructor(private shared: SharedService,\nprivate local: LocalService,\nprivate oauth: OauthService) {\n    }\n/**\n * @param {?} user\n * @param {?=} opts\n * @return {?}\n */\nlogin(user, opts?: RequestOptionsArgs): Observable<Response> {\n        return this.local.login(user, opts);\n    }\n/**\n * @param {?} user\n * @param {?=} opts\n * @return {?}\n */\nsignup(user, opts?: RequestOptionsArgs): Observable<Response> {\n        return this.local.signup(user, opts);\n    }\n/**\n * @return {?}\n */\nlogout(): Observable<void> {\n        return this.shared.logout();\n    }\n/**\n * @param {?} name\n * @param {?=} userData\n * @param {?=} oauth\n * @return {?}\n */\nauthenticate(name: string, userData?: any, oauth?: any): Observable<Response> {\n        return this.oauth.authenticate(name, userData, oauth);\n    }\n/**\n * @param {?} name\n * @param {?=} userData\n * @return {?}\n */\nlink(name: string, userData?: any): Observable<Response> {\n        return this.oauth.authenticate(name, userData);\n    }\n/**\n * @param {?} provider\n * @param {?} opts\n * @return {?}\n */\nunlink(provider: string, opts: RequestOptionsArgs): Observable<Response> {\n        return this.oauth.unlink(provider, opts);\n    }\n/**\n * @return {?}\n */\nisAuthenticated(): boolean {\n        return this.shared.isAuthenticated();\n    }\n/**\n * @return {?}\n */\ngetToken(): string {\n        return this.shared.getToken();\n    }\n/**\n * @param {?} token\n * @return {?}\n */\nsetToken(token: string | Response): void {\n        this.shared.setToken(token);\n    }\n/**\n * @return {?}\n */\nremoveToken(): void {\n        this.shared.removeToken();\n    }\n/**\n * @return {?}\n */\ngetPayload(): any {\n        return this.shared.getPayload();\n    }\n/**\n * @param {?} type\n * @return {?}\n */\nsetStorageType(type: 'localStorage' | 'sessionStorage' | 'cookie' | 'sessionCookie'): void {\n        this.shared.setStorageType(type);\n    }\n/**\n * @return {?}\n */\ngetExpirationDate(): Date {\n        return this.shared.getExpirationDate();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: SharedService, },\n{type: LocalService, },\n{type: OauthService, },\n];\n}\n\nfunction AuthService_tsickle_Closure_declarations() {\n/** @type {?} */\nAuthService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAuthService.ctorParameters;\n/** @type {?} */\nAuthService.prototype.shared;\n/** @type {?} */\nAuthService.prototype.local;\n/** @type {?} */\nAuthService.prototype.oauth;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {SharedService} from './shared.service';\nimport {ConfigService} from './config.service';\nimport {RequestOptionsArgs, Response} from '@angular/http';\nimport {joinUrl} from './utils';\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/operator/do';\nimport {JwtHttp} from './jwt-http.service';\n/**\n * Created by Ron on 17/12/2015.\n * @param {?} user\n * @param {?=} userOpts\n * @return {?}\n */\nfunction getFullOpts(user: string | Object, userOpts?: RequestOptionsArgs) {\n    const /** @type {?} */ opts = userOpts || {};\n    if (user) {\n        opts.body = typeof user === 'string' ? user : JSON.stringify(user);\n    }\n    opts.method = opts.method || 'POST';\n    return opts;\n}\nexport class LocalService {\n/**\n * @param {?} http\n * @param {?} shared\n * @param {?} config\n */\nconstructor(private http: JwtHttp,\nprivate shared: SharedService,\nprivate config: ConfigService) {}\n/**\n * @param {?} user\n * @param {?=} opts\n * @return {?}\n */\nlogin(user: string | Object, opts?: RequestOptionsArgs): Observable<Response> {\n        const /** @type {?} */ fullOpts = getFullOpts(user, opts);\n        const /** @type {?} */ url = fullOpts.url ? fullOpts.url : joinUrl(this.config.baseUrl, this.config.loginUrl);\n\n        return this.http.request(url, fullOpts)\n            .do((response: Response) => this.shared.setToken(response));\n    }\n/**\n * @param {?} user\n * @param {?=} opts\n * @return {?}\n */\nsignup(user: string | Object, opts?: RequestOptionsArgs): Observable<Response> {\n        const /** @type {?} */ fullOpts = getFullOpts(user, opts);\n        const /** @type {?} */ url = fullOpts.url ? fullOpts.url : joinUrl(this.config.baseUrl, this.config.signupUrl);\n\n        return this.http.request(url, getFullOpts(user, fullOpts));\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JwtHttp, },\n{type: SharedService, },\n{type: ConfigService, },\n];\n}\n\nfunction LocalService_tsickle_Closure_declarations() {\n/** @type {?} */\nLocalService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLocalService.ctorParameters;\n/** @type {?} */\nLocalService.prototype.http;\n/** @type {?} */\nLocalService.prototype.shared;\n/** @type {?} */\nLocalService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {assign, camelCase, joinUrl, merge} from './utils';\nimport {ConfigService, IOauth2Options} from './config.service';\nimport {PopupService} from './popup.service';\nimport {StorageService} from './storage.service';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/observable/of';\nimport {JwtHttp} from './jwt-http.service';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class Oauth2Service {\nprivate static base: IOauth2Options & { defaultUrlParams: string[] } = {\n        defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n        responseType: 'code',\n        responseParams: {\n            code: 'code',\n            clientId: 'clientId',\n            redirectUri: 'redirectUri'\n        }\n    };\nprivate defaults: IOauth2Options & { defaultUrlParams: string[] };\n/**\n * @param {?} http\n * @param {?} popup\n * @param {?} storage\n * @param {?} config\n */\nconstructor(private http: JwtHttp,\nprivate popup: PopupService,\nprivate storage: StorageService,\nprivate config: ConfigService) {\n    }\n/**\n * @param {?} options\n * @param {?=} userData\n * @return {?}\n */\nopen(options: IOauth2Options, userData?: any) {\n        this.defaults = merge(options, Oauth2Service.base);\n\n        let /** @type {?} */ url;\n        let /** @type {?} */ openPopup: Observable<any>;\n        const /** @type {?} */ stateName = this.defaults.name + '_state';\n        const /** @type {?} */ state = this.defaults.state;\n        const /** @type {?} */ exp = new Date(Date.now() + 60 * 60 * 1000).toUTCString();\n        if (typeof state === 'string') {\n            this.storage.set(stateName, state, exp);\n        } else if (typeof state === 'function') {\n            this.storage.set(stateName, state(), exp);\n        }\n\n        url = [this.defaults.authorizationEndpoint, this.buildQueryString()].join('?');\n\n        if (this.config.cordova) {\n            openPopup = this.popup\n                .open(url, this.defaults.name, this.defaults.popupOptions/*, this.defaults.redirectUri*/)\n                .eventListener(this.defaults.redirectUri);\n        } else {\n            openPopup = this.popup\n                .open(url, this.defaults.name, this.defaults.popupOptions/*, this.defaults.redirectUri*/)\n                .pollPopup();\n        }\n\n        return openPopup\n            .switchMap((oauthData) => {\n                // when no server URL provided, return popup params as-is.\n                // this is for a scenario when someone wishes to opt out from\n                // satellizer's magic by doing authorization code exchange and\n                // saving a token manually.\n                if (this.defaults.responseType === 'token' || !this.defaults.url) {\n                    return Observable.of(oauthData);\n                }\n\n                if (oauthData.state && oauthData.state !== this.storage.get(stateName)) {\n                    throw 'OAuth \"state\" mismatch';\n                }\n                let /** @type {?} */ exchangeForToken: any = options.exchangeForToken;\n                if (typeof exchangeForToken !== 'function') {\n                    exchangeForToken = this.exchangeForToken.bind(this);\n                }\n                return exchangeForToken(oauthData, userData);\n            });\n    }\n/**\n * @param {?} oauthData\n * @param {?=} userData\n * @return {?}\n */\nprivate exchangeForToken(oauthData: { code?: string, state?: string }, userData?: {}) {\n        let /** @type {?} */ data: any = assign({}, this.defaults, oauthData, userData);\n\n        let /** @type {?} */ exchangeForTokenUrl = this.config.baseUrl ? joinUrl(this.config.baseUrl, this.defaults.url) : this.defaults.url;\n\n        return this.defaults.method\n            ? this.http.request(exchangeForTokenUrl, {\n                body: JSON.stringify(data),\n                withCredentials: this.config.withCredentials,\n                method: this.defaults.method\n            })\n            : this.http.post(exchangeForTokenUrl, JSON.stringify(data), {withCredentials: this.config.withCredentials});\n    }\n/**\n * @return {?}\n */\nprivate buildQueryString() {\n        let /** @type {?} */ keyValuePairs: string[][] = [];\n        let /** @type {?} */ urlParams = ['defaultUrlParams', 'requiredUrlParams', 'optionalUrlParams'];\n\n        urlParams.forEach((params) => {\n            if (this.defaults[params]) {\n                ( /** @type {?} */((<string[]>this.defaults[params]))).forEach((paramName) => {\n                    let /** @type {?} */ camelizedName = camelCase(paramName);\n                    let /** @type {?} */ paramValue = typeof this.defaults[paramName] === 'function' ?\n                        this.defaults[paramName]() :\n                        this.defaults[camelizedName];\n\n                    if (paramName === 'state') {\n                        let /** @type {?} */ stateName = this.defaults.name + '_state';\n                        paramValue = encodeURIComponent(this.storage.get(stateName));\n                    }\n\n                    if (paramName === 'scope' && Array.isArray(paramValue)) {\n                        paramValue = paramValue.join(this.defaults.scopeDelimiter);\n\n                        if (this.defaults.scopePrefix) {\n                            paramValue = [this.defaults.scopePrefix, paramValue].join(this.defaults.scopeDelimiter);\n                        }\n                    }\n\n                    if (params !== 'optionalUrlParams' || typeof paramValue !== 'undefined') {\n                        keyValuePairs.push([paramName, paramValue]);\n                    }\n                });\n            }\n        });\n\n        return keyValuePairs.map(function (pair) {\n            return pair.join('=');\n        }).join('&');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JwtHttp, },\n{type: PopupService, },\n{type: StorageService, },\n{type: ConfigService, },\n];\n}\n\nfunction Oauth2Service_tsickle_Closure_declarations() {\n/** @type {?} */\nOauth2Service.base;\n/** @type {?} */\nOauth2Service.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nOauth2Service.ctorParameters;\n/** @type {?} */\nOauth2Service.prototype.defaults;\n/** @type {?} */\nOauth2Service.prototype.http;\n/** @type {?} */\nOauth2Service.prototype.popup;\n/** @type {?} */\nOauth2Service.prototype.storage;\n/** @type {?} */\nOauth2Service.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable, Injector} from '@angular/core';\nimport {Oauth1Service} from './oauth1.service';\nimport {Oauth2Service} from './oauth2.service';\nimport {SharedService} from './shared.service';\nimport {Response, RequestOptionsArgs} from '@angular/http';\nimport {joinUrl} from './utils';\nimport {ConfigService, IOauth1Options} from './config.service';\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/operator/do';\nimport {JwtHttp} from './jwt-http.service';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class OauthService {\n/**\n * @param {?} http\n * @param {?} injector\n * @param {?} shared\n * @param {?} config\n */\nconstructor(private http: JwtHttp,\nprivate injector: Injector,\nprivate shared: SharedService,\nprivate config: ConfigService) {}\n/**\n * @param {?} name\n * @param {?=} userData\n * @param {?=} oauth\n * @return {?}\n */\nauthenticate(name: string, userData?: any, oauth?: any): Observable<Response> {\n        // var injector = Injector.resolveAndCreate([Oauth1, Oauth2]);\n        const /** @type {?} */ provider: { open(options?: any, userData?: any): Observable<any> } = this.config.providers[name].oauthType === '1.0' ? this.injector.get(Oauth1Service) : oauth;\n        return provider.open(this.config.providers[name], userData || {})\n            .do((response: Response) => {\n                // this is for a scenario when someone wishes to opt out from\n                // satellizer's magic by doing authorization code exchange and\n                // saving a token manually.\n                if (this.config.providers[name].url) {\n                    this.shared.setToken(response);\n                }\n            });\n    }\n/**\n * @param {?} provider\n * @param {?} opts\n * @return {?}\n */\nunlink(provider: string, opts: RequestOptionsArgs) {\n        opts = opts || {};\n        let /** @type {?} */ url = opts.url ? opts.url : joinUrl(this.config.baseUrl, this.config.unlinkUrl);\n        opts.body = JSON.stringify({ provider: provider }) || opts.body;\n        opts.method = opts.method || 'POST';\n\n        return this.http.request(url, opts);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JwtHttp, },\n{type: Injector, },\n{type: SharedService, },\n{type: ConfigService, },\n];\n}\n\nfunction OauthService_tsickle_Closure_declarations() {\n/** @type {?} */\nOauthService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nOauthService.ctorParameters;\n/** @type {?} */\nOauthService.prototype.http;\n/** @type {?} */\nOauthService.prototype.injector;\n/** @type {?} */\nOauthService.prototype.shared;\n/** @type {?} */\nOauthService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {PopupService} from './popup.service';\nimport {Response} from '@angular/http';\nimport {assign, joinUrl} from './utils';\nimport {ConfigService, IOauth1Options} from './config.service';\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/operator/switchMap';\nimport {JwtHttp} from './jwt-http.service';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class Oauth1Service {\nprivate static base: IOauth1Options = {\n        url: null,\n        name: null,\n        popupOptions: null,\n        redirectUri: null,\n        authorizationEndpoint: null\n    };\nprivate defaults: IOauth1Options;\n/**\n * @param {?} http\n * @param {?} popup\n * @param {?} config\n */\nconstructor(private http: JwtHttp,\nprivate popup: PopupService,\nprivate config: ConfigService) {\n    }\n/**\n * @param {?=} options\n * @param {?=} userData\n * @return {?}\n */\nopen(options?: IOauth1Options, userData?: any): Observable<Response> {\n        this.defaults = assign({}, Oauth1Service.base, options);\n        let /** @type {?} */ popupWindow;\n        let /** @type {?} */ serverUrl = this.config.baseUrl ? joinUrl(this.config.baseUrl, this.defaults.url) : this.defaults.url;\n\n        if (!this.config.cordova) {\n            popupWindow = this.popup.open('', this.defaults.name, this.defaults.popupOptions/*, this.defaults.redirectUri*/);\n        }\n\n        return this.http.post(serverUrl, JSON.stringify(this.defaults))\n            .switchMap((response: Response) => {\n                if (this.config.cordova) {\n                    popupWindow = this.popup.open(\n                        [this.defaults.authorizationEndpoint, this.buildQueryString(response.json())].join('?'),\n                        this.defaults.name,\n                        this.defaults.popupOptions);\n                } else {\n                    popupWindow.popupWindow.location =\n                        [this.defaults.authorizationEndpoint, this.buildQueryString(response.json())].join('?');\n                }\n\n                return this.config.cordova ? popupWindow.eventListener(this.defaults.redirectUri) : popupWindow.pollPopup();\n            })\n            .switchMap((response) => {\n                let /** @type {?} */ exchangeForToken: any = options.exchangeForToken;\n                if (typeof exchangeForToken !== 'function') {\n                    exchangeForToken = this.exchangeForToken.bind(this);\n                }\n                return exchangeForToken(response, userData);\n            });\n    }\n/**\n * @param {?} oauthData\n * @param {?=} userData\n * @return {?}\n */\nprivate exchangeForToken(oauthData, userData?: any) {\n        let /** @type {?} */ data = assign({}, this.defaults, oauthData, userData);\n        let /** @type {?} */ exchangeForTokenUrl = this.config.baseUrl ? joinUrl(this.config.baseUrl, this.defaults.url) : this.defaults.url;\n        return this.defaults.method\n            ? this.http.request(exchangeForTokenUrl, {\n                body: JSON.stringify(data),\n                withCredentials: this.config.withCredentials,\n                method: this.defaults.method\n            })\n            : this.http.post(exchangeForTokenUrl, data, {withCredentials: this.config.withCredentials});\n    }\n/**\n * @param {?} obj\n * @return {?}\n */\nprivate buildQueryString(obj: Object) {\n        return Object.keys(obj).map((key) => {\n            return encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]);\n        }).join('&');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JwtHttp, },\n{type: PopupService, },\n{type: ConfigService, },\n];\n}\n\nfunction Oauth1Service_tsickle_Closure_declarations() {\n/** @type {?} */\nOauth1Service.base;\n/** @type {?} */\nOauth1Service.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nOauth1Service.ctorParameters;\n/** @type {?} */\nOauth1Service.prototype.defaults;\n/** @type {?} */\nOauth1Service.prototype.http;\n/** @type {?} */\nOauth1Service.prototype.popup;\n/** @type {?} */\nOauth1Service.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {assign} from './utils';\nimport {ConfigService, IPopupOptions} from './config.service';\nimport'rxjs/add/observable/interval';\nimport'rxjs/add/observable/fromEvent';\nimport'rxjs/add/observable/throw';\nimport'rxjs/add/observable/empty';\nimport'rxjs/add/observable/merge';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/take';\nimport'rxjs/add/operator/map';\n\nimport'rxjs/add/operator/takeWhile';\nimport'rxjs/add/operator/delay';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class PopupService {\n    url = '';\n    popupWindow: Window = null;\n/**\n * @param {?} config\n */\nconstructor(private config: ConfigService) {}\n/**\n * @param {?} url\n * @param {?} name\n * @param {?} options\n * @return {?}\n */\nopen(url: string, name: string, options: IPopupOptions) {\n        this.url = url;\n\n        let /** @type {?} */ stringifiedOptions = this.stringifyOptions(this.prepareOptions(options));\n        let /** @type {?} */ UA = window.navigator.userAgent;\n        let /** @type {?} */ windowName = (this.config.cordova || UA.indexOf('CriOS') > -1) ? '_blank' : name;\n\n        this.popupWindow = window.open(url, windowName, stringifiedOptions);\n\n        window['popup'] = this.popupWindow;\n\n        if (this.popupWindow && this.popupWindow.focus) {\n            this.popupWindow.focus();\n        }\n\n        return this;\n    }\n/**\n * @param {?} redirectUri\n * @return {?}\n */\neventListener(redirectUri: string) {\n        return Observable\n            .merge(\n                Observable.fromEvent(this.popupWindow, 'loadstart')\n                .switchMap((event: Event & { url: string }) => {\n\n                    if (!this.popupWindow || this.popupWindow.closed) {\n                        return Observable.throw(new Error('Authentication Canceled'));\n                    }\n                    if (event.url.indexOf(redirectUri) !== 0) {\n                        return Observable.empty();\n                    }\n\n                    let /** @type {?} */ parser = document.createElement('a');\n                    parser.href = event.url;\n\n                    if (parser.search || parser.hash) {\n                        const /** @type {?} */ queryParams = parser.search.substring(1).replace(/\\/$/, '');\n                        const /** @type {?} */ hashParams = parser.hash.substring(1).replace(/\\/$/, '');\n                        const /** @type {?} */ hash = this.parseQueryString(hashParams);\n                        const /** @type {?} */ qs = this.parseQueryString(queryParams);\n                        const /** @type {?} */ allParams = assign({}, qs, hash);\n\n                        this.popupWindow.close();\n\n                        if (allParams.error) {\n                            throw allParams.error;\n                        } else {\n                            return Observable.of(allParams);\n                        }\n                    }\n                    return Observable.empty();\n                }), Observable.fromEvent<Event>(this.popupWindow, 'exit').delay(100).map(() => {throw new Error('Authentication Canceled')})\n                       ).take(1);\n    }\n/**\n * @return {?}\n */\npollPopup() {\n        return Observable\n            .interval(50)\n            .switchMap(() => {\n                if (!this.popupWindow || this.popupWindow.closed) {\n                    return Observable.throw(new Error('Authentication Canceled'));\n                }\n                let /** @type {?} */ documentOrigin = document.location.host;\n                let /** @type {?} */ popupWindowOrigin = '';\n                try {\n                    popupWindowOrigin = this.popupWindow.location.host;\n                } catch ( /** @type {?} */error) {\n                    // ignore DOMException: Blocked a frame with origin from accessing a cross-origin frame.\n                    //error instanceof DOMException && error.name === 'SecurityError'\n                }\n                if (popupWindowOrigin === documentOrigin && (this.popupWindow.location.search || this.popupWindow.location.hash)) {\n                    const /** @type {?} */ queryParams = this.popupWindow.location.search.substring(1).replace(/\\/$/, '');\n                    const /** @type {?} */ hashParams = this.popupWindow.location.hash.substring(1).replace(/[\\/$]/, '');\n                    const /** @type {?} */ hash = this.parseQueryString(hashParams);\n                    const /** @type {?} */ qs = this.parseQueryString(queryParams);\n                    this.popupWindow.close();\n                    const /** @type {?} */ allParams = assign({}, qs, hash);\n                    if (allParams.error) {\n                        throw allParams.error;\n                    } else {\n                        return Observable.of(allParams);\n                    }\n                }\n                return Observable.empty();\n            })\n            .take(1);\n    }\n/**\n * @param {?} options\n * @return {?}\n */\nprivate prepareOptions(options: IPopupOptions) {\n        options = options || {};\n        let /** @type {?} */ width = options.width || 500;\n        let /** @type {?} */ height = options.height || 500;\n        return assign(\n            {\n                width: width,\n                height: height,\n                left: window.screenX + ((window.outerWidth - width) / 2),\n                top: window.screenY + ((window.outerHeight - height) / 2.5),\n                toolbar: options.visibleToolbar ? 'yes': 'no'\n            },\n            options);\n    }\n/**\n * @param {?} options\n * @return {?}\n */\nprivate stringifyOptions(options: Object) {\n        return Object.keys(options).map((key) => {\n            return key + '=' + options[key];\n        }).join(',');\n    }\n/**\n * @param {?} joinedKeyValue\n * @return {?}\n */\nprivate parseQueryString(joinedKeyValue: string): any {\n        let /** @type {?} */ key, /** @type {?} */ value;\n        return joinedKeyValue.split('&').reduce(\n            (obj, keyValue) => {\n                if (keyValue) {\n                    value = keyValue.split('=');\n                    key = decodeURIComponent(value[0]);\n                    obj[key] = typeof value[1] !== 'undefined' ? decodeURIComponent(value[1]) : true;\n                }\n                return obj;\n            },\n            {});\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ConfigService, },\n];\n}\n\nfunction PopupService_tsickle_Closure_declarations() {\n/** @type {?} */\nPopupService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPopupService.ctorParameters;\n/** @type {?} */\nPopupService.prototype.url;\n/** @type {?} */\nPopupService.prototype.popupWindow;\n/** @type {?} */\nPopupService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * Created by Ron on 17/12/2015.\n * @param {?} target\n * @param {...?} src\n * @return {?}\n */\nexport function assign(target: any, ...src: any[]): any {\n    if (target == null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var /** @type {?} */ index = 1; index < arguments.length; index++) {\n        var /** @type {?} */ source = arguments[index];\n        if (source != null) {\n            for (var /** @type {?} */ key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    return target;\n}\n/**\n * @param {?} baseUrl\n * @param {?} url\n * @return {?}\n */\nexport function joinUrl(baseUrl: string, url: string) {\n    if (/^(?:[a-z]+:)?\\/\\//i.test(url)) {\n        return url;\n    }\n\n    let /** @type {?} */ joined = [baseUrl, url].join('/');\n\n    let /** @type {?} */ normalize = function(str) {\n        return str\n            .replace(/[\\/]+/g, '/')\n            .replace(/\\/\\?/g, '?')\n            .replace(/\\/\\#/g, '#')\n            .replace(/\\:\\//g, '://');\n    };\n\n    return normalize(joined);\n}\n/**\n * @param {?} obj1\n * @param {?} obj2\n * @return {?}\n */\nexport function merge(obj1: object, obj2: object): any {\n    let /** @type {?} */ result = {};\n    for (var /** @type {?} */ i in obj1) {\n        if (obj1.hasOwnProperty(i)) {\n            if ((i in obj2) && (typeof obj1[i] === 'object') && (i !== null)) {\n                result[i] = merge(obj1[i], obj2[i]);\n            } else {\n                result[i] = obj1[i];\n            }\n        }\n    }\n    for (i in obj2) {\n        if (obj2.hasOwnProperty(i)) {\n            if (i in result) {\n                continue;\n            }\n            result[i] = obj2[i];\n        }\n\n    }\n    return result;\n}\n/**\n * @param {?} name\n * @return {?}\n */\nexport function camelCase(name) {\n    return name.replace(/([\\:\\-\\_]+(.))/g, function(_, separator, letter, offset) {\n        return offset ? letter.toUpperCase() : letter;\n    });\n}\n","import {Injectable} from '@angular/core';\nimport {Http, RequestMethod, Response, RequestOptionsArgs, Headers, Request} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/catch';\nimport {ConfigService} from './config.service';\nimport {SharedService} from './shared.service';\n/**\n * Created by Ron on 06/01/2016.\n */\n\nexport interface JwtRequestOptionsArgs extends RequestOptionsArgs {\n    autoRefreshToken?: boolean\n}\nexport class JwtHttp {\n/**\n * @param {?} _http\n * @param {?} _shared\n * @param {?} _config\n */\nconstructor(\nprivate _http: Http,\nprivate _shared: SharedService,\nprivate _config: ConfigService\n    ) {}\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nrequest(url: string | Request, options?: JwtRequestOptionsArgs): Observable<Response> {\n        //if the token is expired the \"getExpirationDate\" function returns null\n        const /** @type {?} */ exp = this._shared.getExpirationDate();\n        if (this._shared.getToken() &&\n            (!exp || exp.getTime() + this._config.refreshBeforeExpiration > Date.now())  &&\n            (options.autoRefreshToken ||\n            typeof options.autoRefreshToken === 'undefined' && this._config.autoRefreshToken)) {\n            return this.refreshToken()\n                .switchMap(() => this.actualRequest(url, options));\n        }\n        if (this._config.tryTokenRefreshIfUnauthorized) {\n            return this.actualRequest(url, options)\n                .catch((response: Response) => {\n                    if (response.status === 401) {\n                        return this.refreshToken()\n                            .switchMap(() => this.actualRequest(url, options));\n                    }\n                    throw response;\n                })\n        }\n        return this.actualRequest(url, options);\n    }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nget(url: string, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Get;\n        return this.request(url, options);\n    }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npost(url: string, body: any, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Post;\n        options.body = body;\n        return this.request(url, options);\n    }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\nput(url: string, body: any, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Put;\n        options.body = body;\n        return this.request(url, options);\n    }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\ndelete(url: string, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Delete;\n        return this.request(url, options);\n    }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npatch(url: string, body: any, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Patch;\n        options.body = body;\n        return this.request(url, options);\n    }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nhead(url: string, options?: JwtRequestOptionsArgs): Observable<Response> {\n        options = options || {};\n        options.method = RequestMethod.Head;\n        return this.request(url, options);\n    }\n/**\n * @return {?}\n */\nrefreshToken(): Observable<Response> {\n        const /** @type {?} */ authHeader = new Headers();\n        authHeader.append(this._config.authHeader, (this._config.authToken + ' ' + this._shared.getToken()));\n        return this._http\n            .get(this._config.refreshUrl, {\n                headers: authHeader\n            })\n            .do((res: Response) => this._shared.setToken(res));\n    }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nprotected actualRequest(url: string | Request, options?: JwtRequestOptionsArgs) {\n        if (url instanceof Request) {\n            url.headers = url.headers || new Headers();\n            this.setHeaders(url);\n        } else {\n            options = options || {};\n            this.setHeaders(options);\n        }\n        return this._http.request(url, options);\n    }\n/**\n * @param {?} obj\n * @return {?}\n */\nprotected setHeaders(obj: { headers?: Headers, [index: string]: any }) {\n        obj.headers = obj.headers || new Headers();\n        if (this._config.defaultHeaders) {\n            Object.keys(this._config.defaultHeaders).forEach((defaultHeader) => {\n                if (!obj.headers.has(defaultHeader)) {\n                    obj.headers.set(defaultHeader, this._config.defaultHeaders[defaultHeader]);\n                }\n            });\n        }\n        if (this._shared.isAuthenticated()) {\n            obj.headers.set(this._config.authHeader, this._config.authToken + ' ' + this._shared.getToken());\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Http, },\n{type: SharedService, },\n{type: ConfigService, },\n];\n}\n\nfunction JwtHttp_tsickle_Closure_declarations() {\n/** @type {?} */\nJwtHttp.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nJwtHttp.ctorParameters;\n/** @type {?} */\nJwtHttp.prototype._http;\n/** @type {?} */\nJwtHttp.prototype._shared;\n/** @type {?} */\nJwtHttp.prototype._config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * Created by Ron on 17/12/2015.\n */\n\nimport {Observable} from 'rxjs/Observable';\nimport {Subscriber} from 'rxjs/Subscriber';\nimport {Injectable} from '@angular/core';\nimport {Response} from '@angular/http';\nimport {ConfigService} from './config.service';\nimport {StorageService} from './storage.service';\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class SharedService {\n    tokenName = this.config.tokenPrefix ? [this.config.tokenPrefix, this.config.tokenName].join(this.config.tokenSeparator) : this.config.tokenName;\n/**\n * @param {?} storage\n * @param {?} config\n */\nconstructor(private storage: StorageService,\nprivate config: ConfigService) {\n    }\n/**\n * @return {?}\n */\ngetToken() {\n        return this.storage.get(this.tokenName);\n    }\n/**\n * @param {?=} token\n * @return {?}\n */\ngetPayload(token = this.getToken()) {\n\n        if (token && token.split('.').length === 3) {\n            try {\n                let /** @type {?} */ base64Url = token.split('.')[1];\n                let /** @type {?} */ base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n                return JSON.parse(decodeURIComponent(encodeURIComponent(window.atob(base64))));\n            } catch ( /** @type {?} */e) {\n                return undefined;\n            }\n        }\n    }\n/**\n * @param {?} response\n * @return {?}\n */\nsetToken(response: string | Response | Object) {\n        if (!response) {\n            console.warn('Can\\'t set token without passing a value');\n            return;\n        }\n\n        let /** @type {?} */ token: string;\n        if (typeof response === 'string') {\n            token = response;\n        } else {\n            token = this.config.resolveToken(response)\n        }\n\n        if (token) {\n            const /** @type {?} */ expDate = this.getExpirationDate(token);\n            this.storage.set(this.tokenName, token, expDate ? expDate.toUTCString() : '');\n        }\n    }\n/**\n * @return {?}\n */\nremoveToken() {\n        this.storage.remove(this.tokenName);\n    }\n/**\n * @param {?=} token\n * @return {?}\n */\nisAuthenticated(token = this.getToken()) {\n\n        // a token is present\n        if (token) {\n            // token with a valid JWT format XXX.YYY.ZZZ\n            if (token.split('.').length === 3) {\n                // could be a valid JWT or an access token with the same format\n                try {\n                    let /** @type {?} */ base64Url = token.split('.')[1];\n                    let /** @type {?} */ base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n                    let /** @type {?} */ exp = JSON.parse(window.atob(base64)).exp;\n                    // jwt with an optional expiration claims\n                    if (exp) {\n                        let /** @type {?} */ isExpired = Math.round(new Date().getTime() / 1000) >= exp;\n                        if (isExpired) {\n                            // fail: Expired token\n                            this.storage.remove(this.tokenName);\n                            return false;\n                        } else {\n                            // pass: Non-expired token\n                            return true;\n                        }\n                    }\n                } catch ( /** @type {?} */e) {\n                    // pass: Non-JWT token that looks like JWT\n                    return true;\n                }\n            }\n            // pass: All other tokens\n            return true;\n        }\n        // lail: No token at all\n        return false;\n    }\n/**\n * @param {?=} token\n * @return {?}\n */\ngetExpirationDate(token = this.getToken()) {\n        let /** @type {?} */ payload = this.getPayload(token);\n        if (payload && payload.exp && Math.round(new Date().getTime() / 1000) < payload.exp) {\n            let /** @type {?} */ date = new Date(0);\n            date.setUTCSeconds(payload.exp);\n            return date;\n        }\n        return null;\n    }\n/**\n * @return {?}\n */\nlogout(): Observable<any> {\n        return Observable.create((observer: Subscriber<any>) => {\n            this.storage.remove(this.tokenName);\n            observer.next();\n            observer.complete();\n        });\n    }\n/**\n * @param {?} type\n * @return {?}\n */\nsetStorageType(type: 'localStorage' | 'sessionStorage' | 'cookie' | 'sessionCookie') {\n        this.config.storageType = type;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: StorageService, },\n{type: ConfigService, },\n];\n}\n\nfunction SharedService_tsickle_Closure_declarations() {\n/** @type {?} */\nSharedService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSharedService.ctorParameters;\n/** @type {?} */\nSharedService.prototype.tokenName;\n/** @type {?} */\nSharedService.prototype.storage;\n/** @type {?} */\nSharedService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {ConfigService} from './config.service';\n/**\n * @abstract\n */\nexport abstract class StorageService {\n/**\n * @abstract\n * @param {?} key\n * @return {?}\n */\nget(key: string) {}\n/**\n * @abstract\n * @param {?} key\n * @param {?} value\n * @param {?} date\n * @return {?}\n */\nset(key: string, value: string, date: string) {}\n/**\n * @abstract\n * @param {?} key\n * @return {?}\n */\nremove(key: string) {}\n}\n/**\n * Created by Ron on 17/12/2015.\n */\nexport class BrowserStorageService extends StorageService {\nprivate store = {};\nprivate isStorageAvailable: boolean;\n/**\n * @param {?} config\n */\nconstructor(private config: ConfigService) {\n        super();\n        this.isStorageAvailable = this.checkIsStorageAvailable(config);\n        if (!this.isStorageAvailable) {\n            console.warn(config.storageType + ' is not available.');\n        }\n    }\n/**\n * @param {?} key\n * @return {?}\n */\nget(key: string) {\n        return this.isStorageAvailable\n            ? this.config.storageType === 'cookie' || this.config.storageType === 'sessionCookie'\n                ? this.getCookie(key)\n                : window[this.config.storageType].getItem(key)\n            : this.store[key];\n    }\n/**\n * @param {?} key\n * @param {?} value\n * @param {?} date\n * @return {?}\n */\nset(key: string, value: string, date: string) {\n        this.isStorageAvailable\n            ? this.config.storageType === 'cookie' || this.config.storageType === 'sessionCookie'\n            ? this.setCookie(key, value, this.config.storageType === 'cookie' ? date : '')\n            : window[this.config.storageType].setItem(key, value)\n            : this.store[key] = value;\n    }\n/**\n * @param {?} key\n * @return {?}\n */\nremove(key: string) {\n        this.isStorageAvailable\n            ? this.config.storageType === 'cookie' || this.config.storageType === 'sessionCookie'\n            ? this.removeCookie(key)\n            : window[this.config.storageType].removeItem(key)\n            : delete this.store[key];\n    }\n/**\n * @param {?} config\n * @return {?}\n */\nprivate checkIsStorageAvailable(config: ConfigService) {\n        if (config.storageType === 'cookie' || config.storageType === 'sessionCookie') {\n            return this.isCookieStorageAvailable();\n        }\n        try {\n            const /** @type {?} */ supported = window && config.storageType in window && window[config.storageType] !== null;\n\n            if (supported) {\n                const /** @type {?} */ key = Math.random().toString(36).substring(7);\n                window[this.config.storageType].setItem(key, '');\n                window[this.config.storageType].removeItem(key);\n            }\n\n            return supported;\n        } catch ( /** @type {?} */e) {\n            return false;\n        }\n    }\n/**\n * @return {?}\n */\nprivate isCookieStorageAvailable() {\n        try {\n            const /** @type {?} */ supported = document && 'cookie' in document;\n\n            if (supported) {\n                const /** @type {?} */ key = Math.random().toString(36).substring(7);\n                this.setCookie(key, 'test', new Date(Date.now() + 60 * 1000).toUTCString());\n                const /** @type {?} */ value = this.getCookie(key);\n                this.removeCookie(key);\n                return value === 'test';\n            }\n            return false;\n        } catch ( /** @type {?} */e) {\n            return false;\n        }\n    }\n/**\n * @param {?} key\n * @param {?} value\n * @param {?=} expires\n * @param {?=} path\n * @return {?}\n */\nprivate setCookie(key: string, value: string, expires = '', path = '/') {\n        document.cookie = `${key}=${value}${expires ? `; expires=${expires}` : ''}; path=${path}`;\n    }\n/**\n * @param {?} key\n * @param {?=} path\n * @return {?}\n */\nprivate removeCookie(key: string, path = '/') {\n        this.setCookie(key, '', new Date(0).toUTCString(), path);\n    }\n/**\n * @param {?} key\n * @return {?}\n */\nprivate getCookie(key: string) {\n        return document.cookie.replace(new RegExp(`(?:(?:^|.*;\\\\s*)${key}\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$`), '$1');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ConfigService, },\n];\n}\n\nfunction BrowserStorageService_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserStorageService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBrowserStorageService.ctorParameters;\n/** @type {?} */\nBrowserStorageService.prototype.store;\n/** @type {?} */\nBrowserStorageService.prototype.isStorageAvailable;\n/** @type {?} */\nBrowserStorageService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {RequestMethod, Response} from '@angular/http';\n\n/**\n * Created by Ron on 17/12/2015.\n */\n\nexport interface IPopupOptions {\n    width?: number;\n    height?: number;\n    left?: number;\n    top?: number;\n    visibleToolbar?: boolean;\n}\n\nexport interface IOauth1Options {\n    url?: string;\n    name?: string;\n    popupOptions?: IPopupOptions;\n    redirectUri?: string;\n    authorizationEndpoint?: string;\n    oauthType?: string;\n    exchangeForToken?: boolean | ((options: {code?: string, state?: string}, userData?: any) => Observable<Response>);\n    method?: string | RequestMethod;\n}\n\nexport interface IOauth2Options extends IOauth1Options {\n    state?: string| (() => string);\n    responseType?: string;\n    responseParams?: {\n        code?: string;\n        clientId?: string;\n        redirectUri?: string;\n    };\n    clientId?: string;\n    scopeDelimiter?: string;\n    scopePrefix?: string;\n\n    requiredUrlParams?: string[];\n    optionalUrlParams?: string[];\n    scope?: string[]|string;\n    display?: string;\n}\n\nexport interface IProviders {\n    [provider: string]: IOauth2Options;\n}\n/**\n * @abstract\n */\nexport abstract class CustomConfig {\n    tokenRoot: string;\n    cordova: boolean;\n    baseUrl: string;\n    loginUrl: string;\n    signupUrl: string;\n    unlinkUrl: string;\n    tokenName: string;\n    tokenSeparator: string;\n    tokenPrefix: string;\n    authToken: string;\n    authHeader: string;\n    storageType: 'localStorage' | 'sessionStorage' | 'cookie' | 'sessionCookie';\n    providers: IProviders;\n    defaultHeaders: { [name: string]: string };\n    withCredentials: boolean;\n    autoRefreshToken: boolean;\n    refreshUrl: string;\n    refreshBeforeExpiration: number;\n    tryTokenRefreshIfUnauthorized: boolean;\n    resolveToken: (response: Response) => string;\n}\n\nfunction CustomConfig_tsickle_Closure_declarations() {\n/** @type {?} */\nCustomConfig.prototype.tokenRoot;\n/** @type {?} */\nCustomConfig.prototype.cordova;\n/** @type {?} */\nCustomConfig.prototype.baseUrl;\n/** @type {?} */\nCustomConfig.prototype.loginUrl;\n/** @type {?} */\nCustomConfig.prototype.signupUrl;\n/** @type {?} */\nCustomConfig.prototype.unlinkUrl;\n/** @type {?} */\nCustomConfig.prototype.tokenName;\n/** @type {?} */\nCustomConfig.prototype.tokenSeparator;\n/** @type {?} */\nCustomConfig.prototype.tokenPrefix;\n/** @type {?} */\nCustomConfig.prototype.authToken;\n/** @type {?} */\nCustomConfig.prototype.authHeader;\n/** @type {?} */\nCustomConfig.prototype.storageType;\n/** @type {?} */\nCustomConfig.prototype.providers;\n/** @type {?} */\nCustomConfig.prototype.defaultHeaders;\n/** @type {?} */\nCustomConfig.prototype.withCredentials;\n/** @type {?} */\nCustomConfig.prototype.autoRefreshToken;\n/** @type {?} */\nCustomConfig.prototype.refreshUrl;\n/** @type {?} */\nCustomConfig.prototype.refreshBeforeExpiration;\n/** @type {?} */\nCustomConfig.prototype.tryTokenRefreshIfUnauthorized;\n/** @type {?} */\nCustomConfig.prototype.resolveToken;\n}\n\nexport class ConfigService {\n/**\n * @param {?=} config\n */\nconstructor(config?: CustomConfig) {\n        Object.keys(config).forEach((key) => {\n            if (typeof config[key] === \"undefined\") {\n                return;\n            }\n            if (key !== 'providers') {\n                this[key] = config[key];\n            } else {\n                Object.keys(config[key]).map(provider => {\n                    this.providers[provider] = Object.assign(\n                        this.providers[provider] || {},\n                        config.providers[provider]\n                    );\n                });\n            }\n        });\n    }\n    withCredentials = false;\n    tokenRoot = null;\n    baseUrl = '/';\n    loginUrl = '/auth/login';\n    signupUrl = '/auth/signup';\n    unlinkUrl = '/auth/unlink/';\n    refreshUrl = '/auth/refresh';\n    tokenName = 'token';\n    tokenSeparator = '_';\n    tokenPrefix = 'ng2-ui-auth';\n    authHeader = 'Authorization';\n    authToken = 'Bearer';\n    storageType: 'localStorage' | 'sessionStorage' | 'cookie' | 'sessionCookie' = 'localStorage';\n    defaultHeaders = null;\n    autoRefreshToken = false;\n    refreshBeforeExpiration = 600000; //10 minutes\n    tryTokenRefreshIfUnauthorized = false;\n    cordova = this.isCordovaApp();\n    resolveToken = (response: Response|Object) => {\n        let /** @type {?} */ tokenObj = response;\n        if (response instanceof Response) {\n            tokenObj = response.json();\n        }\n        const /** @type {?} */ accessToken: string | Object | null | undefined = tokenObj &&\n            (tokenObj['access_token'] || tokenObj['token'] || tokenObj['data']);\n        if (!accessToken) {\n            console.warn('No token found');\n            return null;\n        }\n        if (typeof accessToken === 'string') {\n            return accessToken;\n        }\n        if (typeof accessToken !== 'object') {\n            console.warn('No token found');\n            return null;\n        }\n        const /** @type {?} */ tokenRootData = this.tokenRoot &&\n            this.tokenRoot.split('.').reduce(\n                (o, x) => {\n                    return o[x];\n                },\n                accessToken);\n        const /** @type {?} */ token = tokenRootData ? tokenRootData[this.tokenName] : accessToken[this.tokenName];\n        if (token) {\n            return token;\n        }\n        let /** @type {?} */ tokenPath = this.tokenRoot ? this.tokenRoot + '.' + this.tokenName : this.tokenName;\n        console.warn('Expecting a token named \"' + tokenPath);\n        return null;\n    };\n    providers: IProviders = {\n        facebook: {\n            name: 'facebook',\n            url: '/auth/facebook',\n            authorizationEndpoint: 'https://www.facebook.com/v2.5/dialog/oauth',\n            redirectUri: this.getHttpHost('/'),\n            requiredUrlParams: ['display', 'scope'],\n            scope: ['email'],\n            scopeDelimiter: ',',\n            display: 'popup',\n            oauthType: '2.0',\n            popupOptions: {width: 580, height: 400}\n        },\n        google: {\n            name: 'google',\n            url: '/auth/google',\n            authorizationEndpoint: 'https://accounts.google.com/o/oauth2/auth',\n            redirectUri: this.getHttpHost(),\n            requiredUrlParams: ['scope'],\n            optionalUrlParams: ['display', 'state', 'prompt', 'login_hint', 'access_type', 'include_granted_scopes', 'openid.realm', 'hd'],\n            scope: ['profile', 'email'],\n            scopePrefix: 'openid',\n            scopeDelimiter: ' ',\n            display: 'popup',\n            oauthType: '2.0',\n            popupOptions: {width: 452, height: 633},\n            state: () => encodeURIComponent(Math.random().toString(36).substr(2)),\n        },\n        github: {\n            name: 'github',\n            url: '/auth/github',\n            authorizationEndpoint: 'https://github.com/login/oauth/authorize',\n            redirectUri: this.getHttpHost(),\n            optionalUrlParams: ['scope'],\n            scope: ['user:email'],\n            scopeDelimiter: ' ',\n            oauthType: '2.0',\n            popupOptions: {width: 1020, height: 618}\n        },\n        instagram: {\n            name: 'instagram',\n            url: '/auth/instagram',\n            authorizationEndpoint: 'https://api.instagram.com/oauth/authorize',\n            redirectUri: this.getHttpHost(),\n            requiredUrlParams: ['scope'],\n            scope: ['basic'],\n            scopeDelimiter: '+',\n            oauthType: '2.0'\n        },\n        linkedin: {\n            name: 'linkedin',\n            url: '/auth/linkedin',\n            authorizationEndpoint: 'https://www.linkedin.com/uas/oauth2/authorization',\n            redirectUri: this.getHttpHost(),\n            requiredUrlParams: ['state'],\n            scope: ['r_emailaddress'],\n            scopeDelimiter: ' ',\n            state: 'STATE',\n            oauthType: '2.0',\n            popupOptions: {width: 527, height: 582}\n        },\n        twitter: {\n            name: 'twitter',\n            url: '/auth/twitter',\n            authorizationEndpoint: 'https://api.twitter.com/oauth/authenticate',\n            redirectUri: this.getHttpHost(),\n            oauthType: '1.0',\n            popupOptions: {width: 495, height: 645}\n        },\n        twitch: {\n            name: 'twitch',\n            url: '/auth/twitch',\n            authorizationEndpoint: 'https://api.twitch.tv/kraken/oauth2/authorize',\n            redirectUri: this.getHttpHost(),\n            requiredUrlParams: ['scope'],\n            scope: ['user_read'],\n            scopeDelimiter: ' ',\n            display: 'popup',\n            oauthType: '2.0',\n            popupOptions: {width: 500, height: 560}\n        },\n        live: {\n            name: 'live',\n            url: '/auth/live',\n            authorizationEndpoint: 'https://login.live.com/oauth20_authorize.srf',\n            redirectUri: this.getHttpHost(),\n            requiredUrlParams: ['display', 'scope'],\n            scope: ['wl.emails'],\n            scopeDelimiter: ' ',\n            display: 'popup',\n            oauthType: '2.0',\n            popupOptions: {width: 500, height: 560}\n        },\n        yahoo: {\n            name: 'yahoo',\n            url: '/auth/yahoo',\n            authorizationEndpoint: 'https://api.login.yahoo.com/oauth2/request_auth',\n            redirectUri: this.getHttpHost(),\n            scope: [],\n            scopeDelimiter: ',',\n            oauthType: '2.0',\n            popupOptions: {width: 559, height: 519}\n        },\n        bitbucket: {\n            name: 'bitbucket',\n            url: '/auth/bitbucket',\n            authorizationEndpoint: 'https://bitbucket.org/site/oauth2/authorize',\n            redirectUri: this.getHttpHost('/'),\n            requiredUrlParams: ['scope'],\n            scope: ['email'],\n            scopeDelimiter: ',',\n            oauthType: '2.0',\n            popupOptions: {width: 1028, height: 529}\n        },\n        spotify: {\n            name: 'spotify',\n            url: '/auth/spotify',\n            authorizationEndpoint: 'https://accounts.spotify.com/authorize',\n            redirectUri: this.getHttpHost(),\n            optionalUrlParams: ['state'],\n            requiredUrlParams: ['scope'],\n            scope: ['user-read-email'],\n            scopePrefix: '',\n            scopeDelimiter: ',',\n            oauthType: '2.0',\n            popupOptions: { width: 500, height: 530 },\n            state: () => encodeURIComponent(Math.random().toString(36).substr(2))\n        }\n    };\n/**\n * @param {?=} path\n * @return {?}\n */\ngetHttpHost(path = '') {\n        return window.location.origin + path;\n    }\n/**\n * @return {?}\n */\nisCordovaApp() {\n        return !!window['cordova'];\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: CustomConfig, },\n];\n}\n\nfunction ConfigService_tsickle_Closure_declarations() {\n/** @type {?} */\nConfigService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nConfigService.ctorParameters;\n/** @type {?} */\nConfigService.prototype.withCredentials;\n/** @type {?} */\nConfigService.prototype.tokenRoot;\n/** @type {?} */\nConfigService.prototype.baseUrl;\n/** @type {?} */\nConfigService.prototype.loginUrl;\n/** @type {?} */\nConfigService.prototype.signupUrl;\n/** @type {?} */\nConfigService.prototype.unlinkUrl;\n/** @type {?} */\nConfigService.prototype.refreshUrl;\n/** @type {?} */\nConfigService.prototype.tokenName;\n/** @type {?} */\nConfigService.prototype.tokenSeparator;\n/** @type {?} */\nConfigService.prototype.tokenPrefix;\n/** @type {?} */\nConfigService.prototype.authHeader;\n/** @type {?} */\nConfigService.prototype.authToken;\n/** @type {?} */\nConfigService.prototype.storageType;\n/** @type {?} */\nConfigService.prototype.defaultHeaders;\n/** @type {?} */\nConfigService.prototype.autoRefreshToken;\n/** @type {?} */\nConfigService.prototype.refreshBeforeExpiration;\n/** @type {?} */\nConfigService.prototype.tryTokenRefreshIfUnauthorized;\n/** @type {?} */\nConfigService.prototype.cordova;\n/** @type {?} */\nConfigService.prototype.resolveToken;\n/** @type {?} */\nConfigService.prototype.providers;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["HttpModule","NgModule","Injector","Http","Injectable","http","Observable","merge","Headers","Request","RequestMethod","Response"],"mappings":"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"}
